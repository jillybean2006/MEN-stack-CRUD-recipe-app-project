
<%- include('../nav.ejs') %>

<link rel="stylesheet" href="/stylesheets/style.css">


<div class="container page">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h3 mb-0">My Recipes</h1>
    <a class="btn btn-primary" href="/users/<%= user._id %>/foods/new">+ New Recipe</a>
  </div>

  <% if (!foods.length) { %>
    <div class="alert alert-light border">No recipes yet. Add your first one!</div>
  <% } %>

  <div class="row g-3">
    <% foods.forEach(food => { %>
      <div class="col-12 col-md-6 col-lg-4">
         <a href="/users/<%= user._id %>/foods/<%= food._id%>"text-decoration-none text-dark">
          <div class="card shadow-sm border-0 h-100">
            <% if (food.imageUrl) { %>
              <img src="<%= food.imageUrl %>" class="card-img-top" alt="recipe image">
            <% } else { %>
              <div class="card-img-top bg-light d-flex align-items-center justify-content-center">
                <span class="text-muted">No image</span>
              </div>
            <% } %>

            <div class="card-body">
              <h2 class="h5 mb-1"><%= food.name %></h2>
              <% if (food.description) { %>
                <p class="text-muted mb-2"><%= food.description %></p>
              <% } %>
              <span class="badge badge-soft"><%= food.ingredients.length %> ingredients</span>
            </div>
          </div>
        </a>
      </div>
    <% }) %>
  </div>
</div>





<%- include('../footer') %>
